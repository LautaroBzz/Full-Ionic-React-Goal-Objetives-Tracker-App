{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Quadion\\\\Desktop\\\\Milanesas\\\\APPS\\\\SECOND IONIC-REACT APP\\\\myApp\\\\src\\\\Paginas\\\\Objetivos.tsx\";\n// 2da pagina creada:\n// Misma estructura que \"Cursos.tsx\"\nimport React, { useState, useRef, useContext } from 'react';\nimport { IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonButtons, IonBackButton, IonList, IonItem, IonLabel, IonItemSliding // permite que todos los elementos dentro puedan deslizarce hacia los lados\n, IonItemOptions, IonItemOption, IonIcon, IonButton, IonFab, IonFabButton // para botones flotantes\n, isPlatform // habilita a que ciertos componentes solo figuren si se usa un dispositivo especifico\n, IonAlert } from '@ionic/react';\nimport { useParams } from \"react-router-dom\"; // Permite extraer parametros obtenidos en esta pagina. \n// Importo iconos:\n\nimport { addOutline, create, trash } from 'ionicons/icons'; // Importo Componentes:\n\nimport EdicionModal from \"../Componentes/EdicionModal\"; // Importo Contexto\n\nimport CursosContexto from '../Datos/CursosContexto';\n\nconst Objetivos = () => {\n  const [incioBorrar, setInicioBorrar] = useState(false);\n  const [editando, setEditando] = useState(false);\n  const [objetivoSeleccionado, setObjetivoSeleccionado] = useState(null);\n  const opcionesDeslizamiento = useRef(null);\n  const cursosCtx = useContext(CursosContexto);\n  const idCursoSeleccionado = useParams().idcurso;\n  const cursoSeleccionado = cursosCtx.cursos.find(curso => curso.id === idCursoSeleccionado);\n\n  const inicioBorrarItemObjetivo = () => {\n    setInicioBorrar(true);\n  };\n\n  const borradoDefinitivo = () => {\n    setInicioBorrar(false);\n    cursosCtx.borrarObjetivo(idCursoSeleccionado);\n  };\n\n  const inicioEdicionItemObjetivo = (objetivoId, evento) => {\n    var _opcionesDeslizamient;\n\n    evento.stopPropagation();\n    const objetivo = cursoSeleccionado === null || cursoSeleccionado === void 0 ? void 0 : cursoSeleccionado.objetivos.find(o => o.id === objetivoId);\n    (_opcionesDeslizamient = opcionesDeslizamiento.current) === null || _opcionesDeslizamient === void 0 ? void 0 : _opcionesDeslizamient.closeOpened();\n\n    if (!objetivo) {\n      return;\n    }\n\n    setEditando(true);\n    setObjetivoSeleccionado(objetivo);\n  };\n\n  const cancelarEdicion = () => {\n    setEditando(false);\n    setObjetivoSeleccionado(null);\n  };\n\n  const inicioAñadirObjetivo = () => {\n    setEditando(true);\n    setObjetivoSeleccionado(null);\n  };\n\n  const añadirObjetivo = texto => {\n    cursosCtx.añadirObjetivo(idCursoSeleccionado, texto);\n    setEditando(false);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EdicionModal, {\n    mostrar: editando,\n    cancelar: cancelarEdicion,\n    objetivoEditado: objetivoSeleccionado,\n    guardar: añadirObjetivo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(IonAlert, {\n    isOpen: incioBorrar,\n    header: \"Estas seguro de borrar?\",\n    message: \"Esta accion es irreversible\",\n    buttons: [{\n      text: \"No\",\n      role: \"cancel\",\n      handler: () => {\n        setInicioBorrar(false);\n      }\n    }, {\n      text: \"Si\",\n      handler: borradoDefinitivo\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonBackButton, {\n    defaultHref: \"/cursos/lista\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, cursoSeleccionado ? cursoSeleccionado.titulo : \"No existe el curso\"), !isPlatform(\"android\") && /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    onClick: inicioAñadirObjetivo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    slot: \"icon-only\",\n    icon: addOutline,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, cursoSeleccionado && /*#__PURE__*/React.createElement(IonList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, cursoSeleccionado.objetivos.map(objetivo => /*#__PURE__*/React.createElement(IonItemSliding, {\n    key: objetivo.id,\n    ref: opcionesDeslizamiento,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonItemOptions, {\n    side: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonItemOption, {\n    onClick: inicioBorrarItemObjetivo,\n    color: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    slot: \"icon-only\",\n    icon: trash,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(IonItem, {\n    lines: \"full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  }, objetivo.texto)), /*#__PURE__*/React.createElement(IonItemOptions, {\n    side: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IonItemOption, {\n    onClick: inicioEdicionItemObjetivo.bind(null, objetivo.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    slot: \"icon-only\",\n    icon: create,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 23\n    }\n  })))))), isPlatform(\"android\") && /*#__PURE__*/React.createElement(IonFab, {\n    horizontal: \"end\",\n    vertical: \"bottom\",\n    slot: \"fixed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonFabButton, {\n    color: \"secondary\",\n    onClick: inicioAñadirObjetivo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: addOutline,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 17\n    }\n  }))))));\n};\n\nexport default Objetivos; // IonPage = necesario para componentes lugadoa a traves de routing deben estar dentro\n// slot = indicar donde posicionar el \"back button\" dentro del toolbar \n//        (start= izquierda, end = derecha, icon-only = adapta el tamaño del icono, fixed = fijo)\n// defaultHref = indica un url por default en caso de que ionic no sepa desde donde se viene\n// useParams = permite extraer parametros obtenido en esta pagina. \n//             Implementado para \"idcurso\" en \"Cursos.tsx\"\n// idCursoSeleccionado = traigo desde \"App.tsx\" el parametro \"idcurso\" y le indicamos \n//                       que siempre sera de tipo \"string\"\n// cursoSeleccionado = tomamos el id del curso seleccionado y lo igualamos al {} correspondiente\n//                     dentro de DETALLE_CURSOS\n// {cursoSeleccionado ? cu...} = mostramos dinamicamente el titulo del curso seleccionado.\n// lines = indica como deben figurar las lineas debajo de cada \"objetivo\" de DETALLE_CURSOS \n// button = simplemente para que el elemento se pueda clickear\n// editarItemObjetivo = esto genera que si se hace click SOLO en el icono del boton\n//                      se ejecute la funcion \"editarItemObjetivo\", es decir, \n//                      impide que esta accion se propague hacia afuera y afecte a \n//                      \"borrarItemObjetivo\"\n// borrarItemObjetivo = se efectua cuando se hace click en cualquier lugar dentro del recuadro\n//                      que contiene al \"IonItem\", a excepcion del icono.\n// side = todo el set de \"IonItemOptions\" se debe mostrar en la izquierda del item (start)\n// EdicionModal = le paso los props declarados en \"EdicionModal\" y los = a las funciones originales\n// bind = agregamos una funcionalidad que se aplica cuando le doy click\n// opcionesDeslizamiento = configura que cuando se selecciona para editar un objetivo,\n//                         la barra deslizable vuelva a su lugar original","map":{"version":3,"sources":["C:/Users/Quadion/Desktop/Milanesas/APPS/SECOND IONIC-REACT APP/myApp/src/Paginas/Objetivos.tsx"],"names":["React","useState","useRef","useContext","IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonButtons","IonBackButton","IonList","IonItem","IonLabel","IonItemSliding","IonItemOptions","IonItemOption","IonIcon","IonButton","IonFab","IonFabButton","isPlatform","IonAlert","useParams","addOutline","create","trash","EdicionModal","CursosContexto","Objetivos","incioBorrar","setInicioBorrar","editando","setEditando","objetivoSeleccionado","setObjetivoSeleccionado","opcionesDeslizamiento","cursosCtx","idCursoSeleccionado","idcurso","cursoSeleccionado","cursos","find","curso","id","inicioBorrarItemObjetivo","borradoDefinitivo","borrarObjetivo","inicioEdicionItemObjetivo","objetivoId","evento","stopPropagation","objetivo","objetivos","o","current","closeOpened","cancelarEdicion","inicioAñadirObjetivo","añadirObjetivo","texto","text","role","handler","titulo","map","bind"],"mappings":"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","sourcesContent":["// 2da pagina creada:\r\n// Misma estructura que \"Cursos.tsx\"\r\nimport React, { useState, useRef, useContext } from 'react';\r\n\r\nimport {\r\n  IonContent,\r\n  IonHeader,\r\n  IonPage,\r\n  IonTitle,\r\n  IonToolbar,\r\n  IonButtons,\r\n  IonBackButton,\r\n  IonList,\r\n  IonItem,\r\n  IonLabel,\r\n  IonItemSliding, // permite que todos los elementos dentro puedan deslizarce hacia los lados\r\n  IonItemOptions,\r\n  IonItemOption,\r\n  IonIcon,\r\n  IonButton,\r\n  IonFab,\r\n  IonFabButton,  // para botones flotantes\r\n  isPlatform,    // habilita a que ciertos componentes solo figuren si se usa un dispositivo especifico\r\n  IonAlert,\r\n} from '@ionic/react';\r\n\r\nimport { useParams } from \"react-router-dom\"; // Permite extraer parametros obtenidos en esta pagina. \r\n\r\n// Importo iconos:\r\nimport { addOutline, create, trash } from 'ionicons/icons';\r\n\r\n// Importo Componentes:\r\nimport EdicionModal from \"../Componentes/EdicionModal\";\r\n\r\n// Importo Contexto\r\nimport CursosContexto from '../Datos/CursosContexto';\r\n\r\n\r\nconst Objetivos: React.FC = () => {\r\n\r\n  const [incioBorrar, setInicioBorrar] = useState(false);\r\n  const [editando, setEditando] = useState(false);\r\n  const [objetivoSeleccionado, setObjetivoSeleccionado] = useState<any>(null);\r\n\r\n  const opcionesDeslizamiento = useRef<HTMLIonItemSlidingElement>(null);\r\n\r\n  const cursosCtx= useContext(CursosContexto);\r\n\r\n  const idCursoSeleccionado = useParams<{ idcurso: string }>().idcurso;\r\n\r\n  const cursoSeleccionado = cursosCtx.cursos.find(curso => curso.id === idCursoSeleccionado);\r\n\r\n  const inicioBorrarItemObjetivo = () => {\r\n    setInicioBorrar(true);\r\n  };\r\n\r\n  const borradoDefinitivo = () => {\r\n    setInicioBorrar(false);\r\n    cursosCtx.borrarObjetivo(idCursoSeleccionado);\r\n  };\r\n\r\n  const inicioEdicionItemObjetivo = (objetivoId: string, evento: React.MouseEvent) => {\r\n    evento.stopPropagation();\r\n\r\n    const objetivo = cursoSeleccionado?.objetivos.find(o => o.id === objetivoId);\r\n\r\n    opcionesDeslizamiento.current?.closeOpened();\r\n    if(!objetivo) {\r\n      return;\r\n    }\r\n    \r\n    setEditando(true);\r\n    setObjetivoSeleccionado(objetivo);\r\n  };\r\n\r\n  const cancelarEdicion = () => {\r\n    setEditando(false);\r\n    setObjetivoSeleccionado(null);\r\n  };\r\n\r\n  const inicioAñadirObjetivo = () => {\r\n    setEditando(true);\r\n    setObjetivoSeleccionado(null);\r\n  };\r\n\r\n  const añadirObjetivo = (texto: string) => {\r\n    cursosCtx.añadirObjetivo(idCursoSeleccionado, texto)\r\n    setEditando(false);\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <EdicionModal \r\n        mostrar={editando}\r\n        cancelar={cancelarEdicion}\r\n        objetivoEditado={objetivoSeleccionado}\r\n        guardar={añadirObjetivo}\r\n       />\r\n\r\n      <IonAlert \r\n        isOpen={incioBorrar} \r\n        header=\"Estas seguro de borrar?\"\r\n        message=\"Esta accion es irreversible\"\r\n        buttons = {[\r\n          {text:\"No\", role:\"cancel\", handler: ()=>{setInicioBorrar(false)}},\r\n          {text:\"Si\", handler: borradoDefinitivo}\r\n        ]}\r\n      />\r\n\r\n      <IonPage>\r\n\r\n        <IonHeader> \r\n          <IonToolbar color=\"primary\">\r\n            <IonButtons slot='start'>\r\n              <IonBackButton defaultHref=\"/cursos/lista\"/>\r\n            </IonButtons>\r\n\r\n            <IonTitle>\r\n              {cursoSeleccionado ? cursoSeleccionado.titulo : \"No existe el curso\"}\r\n            </IonTitle>\r\n\r\n            {!isPlatform(\"android\") &&\r\n              <IonButtons slot=\"end\">\r\n                <IonButton onClick={inicioAñadirObjetivo}>\r\n                  <IonIcon slot =\"icon-only\" icon={addOutline}/>\r\n                </IonButton>\r\n              </IonButtons>\r\n            }\r\n          </IonToolbar>\r\n        </IonHeader>\r\n\r\n        <IonContent>\r\n          {cursoSeleccionado && (\r\n            <IonList>\r\n              {cursoSeleccionado.objetivos.map(objetivo => (\r\n\r\n                <IonItemSliding key={objetivo.id} ref={opcionesDeslizamiento}>\r\n                  <IonItemOptions side=\"start\">\r\n                    <IonItemOption onClick={inicioBorrarItemObjetivo} color=\"danger\">\r\n                      <IonIcon slot =\"icon-only\" icon={trash}/>\r\n                    </IonItemOption>\r\n                  </IonItemOptions>\r\n\r\n                  <IonItem lines=\"full\"> \r\n                    <IonLabel>\r\n                      {objetivo.texto}\r\n                    </IonLabel> \r\n                  </IonItem>\r\n\r\n                  <IonItemOptions side=\"end\">\r\n                    <IonItemOption onClick={inicioEdicionItemObjetivo.bind(null, objetivo.id)}>\r\n                      <IonIcon slot=\"icon-only\" icon={create}/>\r\n                    </IonItemOption>\r\n                  </IonItemOptions>\r\n                </IonItemSliding>\r\n\r\n                ))} \r\n              </IonList>\r\n            )} \r\n\r\n          {isPlatform(\"android\") && \r\n            <IonFab horizontal=\"end\" vertical=\"bottom\" slot=\"fixed\">\r\n              <IonFabButton color=\"secondary\" onClick={inicioAñadirObjetivo}>\r\n                <IonIcon icon={addOutline}/>\r\n              </IonFabButton>\r\n            </IonFab>\r\n          }\r\n        </IonContent>   \r\n\r\n      </IonPage>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Objetivos;\r\n\r\n// IonPage = necesario para componentes lugadoa a traves de routing deben estar dentro\r\n\r\n// slot = indicar donde posicionar el \"back button\" dentro del toolbar \r\n//        (start= izquierda, end = derecha, icon-only = adapta el tamaño del icono, fixed = fijo)\r\n\r\n// defaultHref = indica un url por default en caso de que ionic no sepa desde donde se viene\r\n\r\n// useParams = permite extraer parametros obtenido en esta pagina. \r\n//             Implementado para \"idcurso\" en \"Cursos.tsx\"\r\n\r\n// idCursoSeleccionado = traigo desde \"App.tsx\" el parametro \"idcurso\" y le indicamos \r\n//                       que siempre sera de tipo \"string\"\r\n\r\n// cursoSeleccionado = tomamos el id del curso seleccionado y lo igualamos al {} correspondiente\r\n//                     dentro de DETALLE_CURSOS\r\n\r\n// {cursoSeleccionado ? cu...} = mostramos dinamicamente el titulo del curso seleccionado.\r\n\r\n// lines = indica como deben figurar las lineas debajo de cada \"objetivo\" de DETALLE_CURSOS \r\n\r\n// button = simplemente para que el elemento se pueda clickear\r\n\r\n// editarItemObjetivo = esto genera que si se hace click SOLO en el icono del boton\r\n//                      se ejecute la funcion \"editarItemObjetivo\", es decir, \r\n//                      impide que esta accion se propague hacia afuera y afecte a \r\n//                      \"borrarItemObjetivo\"\r\n\r\n// borrarItemObjetivo = se efectua cuando se hace click en cualquier lugar dentro del recuadro\r\n//                      que contiene al \"IonItem\", a excepcion del icono.\r\n\r\n// side = todo el set de \"IonItemOptions\" se debe mostrar en la izquierda del item (start)\r\n\r\n// EdicionModal = le paso los props declarados en \"EdicionModal\" y los = a las funciones originales\r\n\r\n// bind = agregamos una funcionalidad que se aplica cuando le doy click\r\n\r\n// opcionesDeslizamiento = configura que cuando se selecciona para editar un objetivo,\r\n//                         la barra deslizable vuelva a su lugar original"]},"metadata":{},"sourceType":"module"}